{
  "query": "SELECT \n      c.id,\n      c.title,\n      c.description,\n      c.courseType,\n      c.isActive,\n      COUNT(DISTINCT q.id) as total,\n      COUNT(DISTINCT CASE WHEN qp.firstAttemptStatus != 'unanswered' THEN qp.questionId END) as answered,\n      COUNT(DISTINCT CASE WHEN qp.firstAttemptStatus = 'correct' THEN qp.questionId END) as correct,\n      ROUND(\n        CASE \n          WHEN COUNT(DISTINCT q.id) > 0 \n          THEN (COUNT(DISTINCT CASE WHEN qp.firstAttemptStatus = 'correct' THEN qp.questionId END) * 100.0 / COUNT(DISTINCT q.id))\n          ELSE 0 \n        END\n      ) as percentage\n    FROM courses c\n    LEFT JOIN topics t ON t.courseId = c.id\n    LEFT JOIN questions q ON q.topicId = t.id\n    LEFT JOIN question_progress qp ON qp.questionId = q.id AND qp.userId = 5\n    WHERE c.isActive = 1\n    GROUP BY c.id, c.title, c.description, c.courseType, c.isActive\n    ORDER BY c.id;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3wc5j91T7XwfNX4.406ada0c06a9 --database RXc4pG5Wbo6eGZhnWSXpwa --execute SELECT \n      c.id,\n      c.title,\n      c.description,\n      c.courseType,\n      c.isActive,\n      COUNT(DISTINCT q.id) as total,\n      COUNT(DISTINCT CASE WHEN qp.firstAttemptStatus != 'unanswered' THEN qp.questionId END) as answered,\n      COUNT(DISTINCT CASE WHEN qp.firstAttemptStatus = 'correct' THEN qp.questionId END) as correct,\n      ROUND(\n        CASE \n          WHEN COUNT(DISTINCT q.id) > 0 \n          THEN (COUNT(DISTINCT CASE WHEN qp.firstAttemptStatus = 'correct' THEN qp.questionId END) * 100.0 / COUNT(DISTINCT q.id))\n          ELSE 0 \n        END\n      ) as percentage\n    FROM courses c\n    LEFT JOIN topics t ON t.courseId = c.id\n    LEFT JOIN questions q ON q.topicId = t.id\n    LEFT JOIN question_progress qp ON qp.questionId = q.id AND qp.userId = 5\n    WHERE c.isActive = 1\n    GROUP BY c.id, c.title, c.description, c.courseType, c.isActive\n    ORDER BY c.id;",
  "rows": [
    {
      "id": "30001",
      "title": "Datenschutz Grundlagen",
      "description": "Grundlegende Einführung in den Datenschutz nach DSGVO. Lernen Sie die wichtigsten Begriffe und Konzepte kennen.",
      "courseType": "learning",
      "isActive": "1",
      "total": "6",
      "answered": "0",
      "correct": "0",
      "percentage": "0"
    },
    {
      "id": "30002",
      "title": "IT-Sicherheit Sensibilisierung",
      "description": "Sensibilisierung für IT-Sicherheitsrisiken im Arbeitsalltag. Erkennen Sie Phishing, Social Engineering und andere Bedrohungen.",
      "courseType": "sensitization",
      "isActive": "1",
      "total": "12",
      "answered": "0",
      "correct": "0",
      "percentage": "0"
    },
    {
      "id": "30003",
      "title": "Datenschutz Zertifizierung",
      "description": "Umfassende Prüfung Ihrer Datenschutzkenntnisse. Bestehen Sie die Jahresprüfung und erhalten Sie Ihr Zertifikat.",
      "courseType": "certification",
      "isActive": "1",
      "total": "24",
      "answered": "0",
      "correct": "0",
      "percentage": "0"
    }
  ],
  "messages": [],
  "stdout": "id\ttitle\tdescription\tcourseType\tisActive\ttotal\tanswered\tcorrect\tpercentage\n30001\tDatenschutz Grundlagen\tGrundlegende Einführung in den Datenschutz nach DSGVO. Lernen Sie die wichtigsten Begriffe und Konzepte kennen.\tlearning\t1\t6\t0\t0\t0\n30002\tIT-Sicherheit Sensibilisierung\tSensibilisierung für IT-Sicherheitsrisiken im Arbeitsalltag. Erkennen Sie Phishing, Social Engineering und andere Bedrohungen.\tsensitization\t1\t12\t0\t0\t0\n30003\tDatenschutz Zertifizierung\tUmfassende Prüfung Ihrer Datenschutzkenntnisse. Bestehen Sie die Jahresprüfung und erhalten Sie Ihr Zertifikat.\tcertification\t1\t24\t0\t0\t0\n",
  "stderr": "",
  "execution_time_ms": 72
}