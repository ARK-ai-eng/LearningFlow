{
  "query": "\n-- Setze ALLE Topics auf 'in_progress' zurück\nUPDATE user_progress up\nJOIN users u ON up.userId = u.id\nSET up.status = 'in_progress', up.completedAt = NULL\nWHERE u.email = 'testyou@me.com' AND up.courseId = 30002;\n\n-- Setze nur die 3 Topics mit beantworteten Fragen auf 'completed'\nUPDATE user_progress up\nJOIN users u ON up.userId = u.id\nSET up.status = 'completed', up.completedAt = NOW()\nWHERE u.email = 'testyou@me.com' \n  AND up.courseId = 30002\n  AND up.topicId IN (\n    SELECT DISTINCT qp.topicId \n    FROM question_progress qp\n    JOIN users u2 ON qp.userId = u2.id\n    WHERE u2.email = 'testyou@me.com' \n      AND qp.firstAttemptStatus != 'unanswered'\n  );\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3wc5j91T7XwfNX4.406ada0c06a9 --database RXc4pG5Wbo6eGZhnWSXpwa --execute \n-- Setze ALLE Topics auf 'in_progress' zurück\nUPDATE user_progress up\nJOIN users u ON up.userId = u.id\nSET up.status = 'in_progress', up.completedAt = NULL\nWHERE u.email = 'testyou@me.com' AND up.courseId = 30002;\n\n-- Setze nur die 3 Topics mit beantworteten Fragen auf 'completed'\nUPDATE user_progress up\nJOIN users u ON up.userId = u.id\nSET up.status = 'completed', up.completedAt = NOW()\nWHERE u.email = 'testyou@me.com' \n  AND up.courseId = 30002\n  AND up.topicId IN (\n    SELECT DISTINCT qp.topicId \n    FROM question_progress qp\n    JOIN users u2 ON qp.userId = u2.id\n    WHERE u2.email = 'testyou@me.com' \n      AND qp.firstAttemptStatus != 'unanswered'\n  );\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 89
}